<!DOCTYPE html>
<html>
<head>
    <link rel='stylesheet' href='/static/bootstrap/css/bootstrap.min.css'>
    <link rel='stylesheet' href='/static/css/custom.css'>
    <!-- <style>
        h2 {
        /* color: #158FFA; */
        border: 2px solid rgb(14, 12, 12);
        }
    </style> -->
</head>
<body>
    <title>{% block title %}Default Page{% endblock %}</title>
    <div class='container'>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                <li class="nav-item active" style="font-weight: bold;">
                    <a class="nav-link" href="/">Data <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/settings">Connection Settings <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/console">Console Output <span class="sr-only">(current)</span></a>
                </li>
                <!-- <li class="nav-item" style="border: 2px solid rgb(14, 12, 12);">
                    <h2>Part Information Tracking System </h2>
                </li> -->
                </ul>
            </div>
            <div>
            <h2>Part Information Tracking System </h2>
            </div>
            <a class="navbar-brand" href="#"><img src="/static/KTB_Logo.png" width="200" height="50" style="padding-left: 20px;"></a>
            </nav>
    </div>
    <br>

    {% block body %}
    <div class='container'>
        <div class="row">
            <div class='col-sm-2'></div>
            <div class="col">
                <div class="row">
                    <select id="selectActiveWeight" class="form-control col-sm-3">
                        {% for weight in weights %}
                        <option value="{{weight.part_name}}">{{weight.part_name}}</option>
                        {% endfor %}
                    </select>
                    <button class='btn btn-primary col-sm-3' id='setActiveWeight'>Set Active Weight</button>
                </div>
                <br>
                <div class="row active-part">
                    <span class="col-sm-4"><strong>Active Part:<span id='active_weight'>{% block active_weight %}{{active_weight}}{% endblock %}</span></strong></span>
                </div>
                <!-- <br>
                <div class="row">
                    <span class="col-sm-1"><strong>No.</strong></span>
                    <span class="col-sm-5"><strong>Partname</strong></span>
                    <span class="col-sm-2"><strong>Zero Weight</strong></span>
                    <span class="col-sm-2"><strong>Low Limit</strong></span>
                    <span class="col-sm-2"><strong>High Limit</strong></span>
                </div>
                {% for weight in weights %}
                <div class="row weight-row" id="{{'row'+weight.part_name|replace(' ','_')}}">
                    <input  type="text" value="{{loop.index}}" class='col-sm-1'>
                    <input type="text" value="{{weight.part_name}}" class='col-sm-5'>
                    <input type="text" step="0.01" value="{{ weight.weight }}" class='col-sm-2'>
                    <input type="text" step="0.01" value="{{weight.ll}}" class='col-sm-2'>
                    <input type="text" step="0.01" value="{{weight.hl}}" class='col-sm-2'>
                </div>
                {% endfor %} -->
                <br>
                <table class="table table-bordered table-sm">
                    <thead >
                    <tr>
                        <th style="background-color:#f8f9fa">No.</th>
                        <th style="background-color:#f8f9fa">Edit</th>
                        <th style="background-color:#f8f9fa">Partname</th>
                        <th style="background-color:#f8f9fa">Zero Weight</th>
                        <th style="background-color:#f8f9fa">Low Limit</th>
                        <th style="background-color:#f8f9fa">High Limit</th>
                    </tr>
                    </thead>
                    <tbody>
                {% for weight in weights %}
                <tr class="weight-row" id="{{'row'+weight.part_name|replace(' ','_')}}">
                        <td><strong>{{loop.index}}</strong></td>
                        <td><input type="checkbox" class='rwcontrol'></td>
                        <td><input type="text" disabled value="{{weight.part_name}}"></td>
                        <td><input type="text" disabled step="0.01" value="{{ weight.weight }}" ></td>
                        <td><input type="text" disabled step="0.01" value="{{weight.ll}}" ></td>
                        <td><input type="text" disabled step="0.01" value="{{weight.hl}}" ></td>
                </tr>
                {% endfor %}

                    </tbody>
                </table>

                <button class='btn btn-primary col-sm-12'id = "saveWeights">Save Weights</button>
                <br>
                <br>
                <span><strong>Console Output</strong></span>
                <textarea class='col-sm-12' id='logarea'rows="10" cols="25"></textarea>
            </div>
            <div class="col-sm-2"></div>
        </div>
    </div>
    {% endblock %}
    <script src='/static/jquery/jquery.min.js' type='text/javascript'></script>
    <script src='/static/bootstrap/js/bootstrap.min.js' type='text/javascript'></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"></script>

    {% block custom_js %}
    <script src='/static/js/default.js' type='text/javascript'></script>
    {% endblock %}
</body>
</html>